<div class="workspace-carousel st-card">

    <button class="nav left" @onclick="Prev">‹</button>
    <button class="nav right" @onclick="Next">›</button>

    <WorkspaceCard Title="@Current.Name"
                   Progress="@Current.Percent"
                   Total="@Current.Total"
                   Done="@Current.Done"
                   Pending="@Current.Pending"
                   TimeTracked="@Current.Time"
                   AccentColor="@Current.Color"
                   IconBg="@GetRgba(Current.Color)" />

</div>

@code {
    private int index = 0;

    private readonly List<WorkspaceVm> items = new()
    {
        new("Study", 75, 24, 18, 6, "12.5h", "#38bdf8"),
        new("Work", 78, 32, 25, 7, "18.2h", "#c084fc"),
        new("Hobby", 67, 12, 8, 4, "6.2h", "#22c55e")
    };

    private WorkspaceVm Current => items[index];

    void Next() => index = (index + 1) % items.Count;
    void Prev() => index = (index - 1 + items.Count) % items.Count;

    // Rengi şeffaflaştırmak için yardımcı metot
    private string GetRgba(string hex) => hex + "26"; // Basit Hex Alpha eklemesi (%15 opacity)

    record WorkspaceVm(
        string Name,
        int Percent,
        int Total,
        int Done,
        int Pending,
        string Time,
        string Color
    );
}